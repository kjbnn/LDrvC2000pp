1) +
Долбит
2025.09.10 16:49:51:044  Com6 PP#4 Ведомый занят обработкой команды. Повторите запрос позже или сбросьте ведомый по питанию(Ошибка #6)
2025.09.10 17:35:00:807  Com6 PP#4 Ведомый занят обработкой команды. Повторите запрос позже или сбросьте ведомый по питанию(Ошибка #6)
Игнорируется

2) +
SetConnect in EAccessViolation: Access violation
s := Format('%s PP#%d %s', [(TLine(ParentObj).Port as TPort).PortName, Number, OrionState[0]]);
Добавлена проверка TLine(ParentObj).Port=nil

3) +
line 92 of commpp.pas
Exception: Com6 ошибка #9999 -> Receive framing error
DeadlockTimeout = 5000

4) +
2025.09.27 01:34:44:118  ERangeError: Range check error line 106 of commpp.pas
rCount to byte

5) +
2025.09.29 01:35:16:982  EInvalidPointer: Invalid pointer operation
line 1949 of mMain.pas


1) Сделать тестовые дампы без, встроенной, отдельной символьной информацией 
2) Попробовать wingdb на этих 3-х dmp
4 dmp дебаг
5 удаленный дебаг работающего приложения
6 gdb на c под linux, со своими DF
Com порт съедает ресурсы
8 Через час завершение модуля
	при отсутствии сообщений от клав
	при потере связи с одним из ПП
	при старте сохраняем в ini модули на связи )
	при завершении читаем и распаковываем res bat файл, запускаем  при его наличии
	добавить пинг лог в dll

5) пинг двух мокс с привязкой по времени
1) Process, Read сделать в функциональном стиле
1) Состяния в xml





20+
2025.11.06 20:40:47:282  EInvalidPointer: Invalid pointer operation
2025.11.06 20:40:47:287  Trace:
  $0000000100011CC3
2025.11.06 20:40:47:292    $0000000100031E04 line 34 of mLogging.pas
2025.11.06 20:40:47:292    $0000000100044891 line 1620 of mMain.pas
2025.11.06 20:40:47:297    $000000010004361D line 1190 of mMain.pas
2025.11.06 20:40:47:337    $00000001001C6A27 line 127 of commpp.pas
2025.11.06 20:40:47:347    $0000000100050D8D
2025.11.06 20:40:47:347    $0000000100002F06 line 41 of DrvC2000pp.lpr

100+
2025.11.06 20:56:27:258  Exception: Com9 ошибка #9999 -> Receive framing error
2025.11.06 20:56:27:298  Trace:
  $00000001001C665F line 92 of commpp.pas
2025.11.06 20:56:27:308    $0000000100050D8D
2025.11.06 20:56:27:308    $0000000100002F06 line 41 of DrvC2000pp.lpr
2025.11.06 20:56:27:318    $0000000100012C87
2025.11.06 20:56:27:318    $000000007718652D
2025.11.06 20:56:27:318    $00000000772BC521
2025.11.06 20:56:27:318  Com9 закрытие...
2025.11.06 20:56:27:618  Com9 закрыт

30+
2025.11.01 01:44:09:893  ERangeError: Range check error
2025.11.01 01:44:09:928  Trace:
  $00000001001C679A line 106 of commpp.pas
2025.11.01 01:44:09:943    $0000000100050D8D
2025.11.01 01:44:09:943    $0000000100002F06 line 41 of DrvC2000pp.lpr
2025.11.01 01:44:09:948    $0000000100012C87
2025.11.01 01:44:09:953    $000000007718652D
2025.11.01 01:44:09:953    $00000000772BC521
2025.11.01 01:44:09:953  Com6 закрытие...
2025.11.01 01:44:10:253  Com6 закрыт


10+
2025.11.06 16:33:14:627  EAccessViolation: Access violation
2025.11.06 16:33:14:636  Trace:
  $000000010001102A
2025.11.06 16:33:14:644    $0000000100011065
2025.11.06 16:33:14:653    $0000000100011126
2025.11.06 16:33:14:661    $0000000100011CCB
2025.11.06 16:33:14:669    $0000000100011E4D
2025.11.06 16:33:14:677    $0000000100011E8D
2025.11.06 16:33:14:685    $0000000100011925
2025.11.06 16:33:14:692    $0000000100011B77
2025.11.06 16:33:14:700    $0000000100010DD2
2025.11.06 16:33:14:709    $0000000100009563
2025.11.06 16:33:14:717    $000000010000A5BC
2025.11.06 16:33:14:726    $00000001000099AA
2025.11.06 16:33:14:729    $000000010003206F line 49 of mLogging.pas
2025.11.06 16:33:14:733    $0000000100044891 line 1620 of mMain.pas
2025.11.06 16:33:14:736    $000000010004361D line 1190 of mMain.pas
2025.11.06 16:33:14:782    $00000001001C6A27 line 127 of commpp.pas
2025.11.06 16:33:14:797    $0000000100050D8D
2025.11.06 16:33:14:797  Com9 закрытие...
2025.11.06 16:33:15:041  Com9 закрыт



2+
2025.11.06 21:53:18:618  EInvalidPointer: Invalid pointer operation
2025.11.06 21:53:18:623  Trace:
  $0000000100011CC3
2025.11.06 21:53:18:628    $0000000100046796 line 1949 of mMain.pas
2025.11.06 21:53:18:633    $00000001000467FF line 1954 of mMain.pas
2025.11.06 21:53:18:633    $00000001000448A9 line 1625 of mMain.pas
2025.11.06 21:53:18:638    $000000010004361D line 1190 of mMain.pas
2025.11.06 21:53:18:673    $00000001001C6A27 line 127 of commpp.pas
2025.11.06 21:53:18:688    $0000000100050D8D
2025.11.06 21:53:18:688    $0000000100002F06 line 41 of DrvC2000pp.lpr
2025.11.06 21:53:18:693    $0000000100012C87
2025.11.06 21:53:18:693    $000000007718652D
2025.11.06 21:53:18:698    $00000000772BC521
2025.11.06 21:53:18:698  Com6 закрытие...
2025.11.06 21:53:18:948  Com6 закрыт


2+
2025.11.06 19:20:56:464  EAccessViolation: Access violation
2025.11.06 19:20:56:469  Trace:
  $000000010001102A
2025.11.06 19:20:56:479    $0000000100011065
2025.11.06 19:20:56:484  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=4 Mode=0 Part=0 Lev=250 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=4
2025.11.06 19:20:56:484  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=4 Mode=0 Part=0 Lev=187 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=4
2025.11.06 19:20:56:484  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=4 Mode=0 Part=0 Lev=35 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=4
2025.11.06 19:20:56:484  Com6 PP#3 Зона #4 Состояние >> Потерян контакт с устройством (250) ШС отключен (Потеря связи) (187) Восстановление технологического ШС (35)
2025.11.06 19:20:56:484  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=4 Mode=0 Part=0 Lev=65535 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=4
2025.11.06 19:20:56:484  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=4 Mode=0 Part=0 Lev=250 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=4
2025.11.06 19:20:56:484    $0000000100011126
2025.11.06 19:20:56:494    $0000000100011CCB
2025.11.06 19:20:56:504    $0000000100011E4D
2025.11.06 19:20:56:509    $0000000100011E8D
2025.11.06 19:20:56:519    $0000000100011925
2025.11.06 19:20:56:524    $0000000100011B77
2025.11.06 19:20:56:534    $0000000100010DD2
2025.11.06 19:20:56:539    $0000000100009563
2025.11.06 19:20:56:549    $000000010000A5BC
2025.11.06 19:20:56:589    $00000001001C5DF2 line 165 of ../LKsb/ksbmesapi/cKsbmes.pas
2025.11.06 19:20:56:629  SEND: 06.11.2025 19:20:56 Code=13605 Sys=0 Type=25 Net=1 Big=1 Small=12 Mode=0 Part=0 Lev=401 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=12
2025.11.06 19:20:56:629  Com6 PP#1 Реле #12 Состояние >> Вкл. (1)
2025.11.06 19:20:56:649    $00000001001C5F89 line 180 of ../LKsb/ksbmesapi/cKsbmes.pas
2025.11.06 19:20:56:679  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=1 Small=415 Mode=0 Part=0 Lev=24 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=415
2025.11.06 19:20:56:679  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=1 Small=415 Mode=0 Part=0 Lev=188 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=415
2025.11.06 19:20:56:679  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=1 Small=415 Mode=0 Part=0 Lev=47 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=415
2025.11.06 19:20:56:679  Com6 PP#2 Зона #6 Состояние >> Взятие зоны охраны (24) ШС подключен (Восстановление связи) (188) Восстановление ДПЛС (47)
2025.11.06 19:20:56:679  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=1 Small=415 Mode=0 Part=0 Lev=65535 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=415
2025.11.06 19:20:56:694    $00000001001D6D47 line 32 of ../LKsb/ksbmesapi/cmesdriver_api.pas
2025.11.06 19:20:56:699    $00000001000464F3 line 1937 of mMain.pas
2025.11.06 19:20:56:699    $00000001000467FF line 1954 of mMain.pas
2025.11.06 19:20:56:704    $0000000100044741 line 1584 of mMain.pas
2025.11.06 19:20:56:704  Com9 закрытие...
2025.11.06 19:20:56:774  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=3 Small=2 Mode=0 Part=0 Lev=109 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=2
2025.11.06 19:20:56:774  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=3 Small=2 Mode=0 Part=0 Lev=251 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=2
2025.11.06 19:20:56:774  Com6 PP#4 Зона #2 Состояние >> Снятие ШС (109) Восстановлен контакт с прибором (251)
2025.11.06 19:20:56:774  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=3 Small=2 Mode=0 Part=0 Lev=65535 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=2
2025.11.06 19:20:56:824  SEND: 06.11.2025 19:20:56 Code=13604 Sys=0 Type=24 Net=1 Big=4 Small=6 Mode=0 Part=0 Lev=109 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=6
2025.11.06 19:20:56:824  Com6 PP#5 Зона #6 Состояние >> Снятие ШС (109)
2025.11.06 19:20:56:949  Com9 закрыт

2+
2025.11.05 18:30:19:630  Com6 PP#1 Реле #12 Состояние >> Вкл. (1)
2025.11.05 18:30:19:660  EInvalidPointer: Invalid pointer operation
2025.11.05 18:30:19:665  Trace:
  $0000000100011CC3
2025.11.05 18:30:19:680  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=1 Small=415 Mode=0 Part=0 Lev=24 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=415
2025.11.05 18:30:19:680  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=1 Small=415 Mode=0 Part=0 Lev=188 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=415
2025.11.05 18:30:19:680  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=1 Small=415 Mode=0 Part=0 Lev=47 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=415
2025.11.05 18:30:19:680  Com6 PP#2 Зона #6 Состояние >> Взятие зоны охраны (24) ШС подключен (Восстановление связи) (188) Восстановление ДПЛС (47)
2025.11.05 18:30:19:680  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=1 Small=415 Mode=0 Part=0 Lev=65535 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=415
2025.11.05 18:30:19:715    $00000001001C5F89 line 180 of ../LKsb/ksbmesapi/cKsbmes.pas
2025.11.05 18:30:19:780  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=3 Small=2 Mode=0 Part=0 Lev=109 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=2
2025.11.05 18:30:19:780  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=3 Small=2 Mode=0 Part=0 Lev=251 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=2
2025.11.05 18:30:19:780  Com6 PP#4 Зона #2 Состояние >> Снятие ШС (109) Восстановлен контакт с прибором (251)
2025.11.05 18:30:19:780  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=3 Small=2 Mode=0 Part=0 Lev=65535 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=2
2025.11.05 18:30:19:790    $00000001001D6D47 line 32 of ../LKsb/ksbmesapi/cmesdriver_api.pas
2025.11.05 18:30:19:795    $00000001000464F3 line 1937 of mMain.pas
2025.11.05 18:30:19:800    $00000001000467FF line 1954 of mMain.pas
2025.11.05 18:30:19:805    $0000000100044741 line 1584 of mMain.pas
2025.11.05 18:30:19:810    $000000010004361D line 1190 of mMain.pas
2025.11.05 18:30:19:830  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=4 Small=6 Mode=0 Part=0 Lev=109 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=6
2025.11.05 18:30:19:830  Com6 PP#5 Зона #6 Состояние >> Снятие ШС (109)
2025.11.05 18:30:19:830  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=4 Small=6 Mode=0 Part=0 Lev=65535 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=6
2025.11.05 18:30:19:850    $00000001001C6A27 line 127 of commpp.pas
2025.11.05 18:30:19:865    $0000000100050D8D
2025.11.05 18:30:19:865    $0000000100002F06 line 41 of DrvC2000pp.lpr
2025.11.05 18:30:19:870    $0000000100012C87
2025.11.05 18:30:19:870    $000000007718652D
2025.11.05 18:30:19:875  SEND: 05.11.2025 18:30:19 Code=13605 Sys=0 Type=25 Net=1 Big=1 Small=13 Mode=0 Part=0 Lev=402 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=13
2025.11.05 18:30:19:875  Com6 PP#1 Реле #13 Состояние >> Выкл. (0)
2025.11.05 18:30:19:875    $00000000772BC521
2025.11.05 18:30:19:875  Com9 закрытие...
2025.11.05 18:30:19:975  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=250 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 18:30:19:975  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=187 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 18:30:19:975  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=36 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 18:30:19:975  Com6 PP#3 Зона #5 Состояние >> Потерян контакт с устройством (250) ШС отключен (Потеря связи) (187) Нарушение технологического ШС (36)
2025.11.05 18:30:19:975  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=65535 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 18:30:19:975  SEND: 05.11.2025 18:30:19 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=250 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 18:30:20:120  SEND: 05.11.2025 18:30:20 Code=13605 Sys=0 Type=25 Net=1 Big=1 Small=14 Mode=0 Part=0 Lev=402 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=14
2025.11.05 18:30:20:120  Com6 PP#1 Реле #14 Состояние >> Выкл. (0)
2025.11.05 18:30:20:125  Com9 закрыт


2+
2025.11.05 16:15:00:824  EInvalidPointer: Invalid pointer operation
2025.11.05 16:15:00:829  Trace:
  $0000000100011CC3
2025.11.05 16:15:00:854  SEND: 05.11.2025 16:15:00 Code=13605 Sys=0 Type=25 Net=1 Big=1 Small=13 Mode=0 Part=0 Lev=402 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=13
2025.11.05 16:15:00:854  Com6 PP#1 Реле #13 Состояние >> Выкл. (0)
2025.11.05 16:15:00:869    $00000001001C5F89 line 180 of ../LKsb/ksbmesapi/cKsbmes.pas
2025.11.05 16:15:00:909    $00000001001D6D47 line 32 of ../LKsb/ksbmesapi/cmesdriver_api.pas
2025.11.05 16:15:00:914    $00000001000464F3 line 1937 of mMain.pas
2025.11.05 16:15:00:914    $00000001000467FF line 1954 of mMain.pas
2025.11.05 16:15:00:919    $0000000100044741 line 1584 of mMain.pas
2025.11.05 16:15:00:924    $000000010004361D line 1190 of mMain.pas
2025.11.05 16:15:00:949  SEND: 05.11.2025 16:15:00 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=250 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 16:15:00:949  SEND: 05.11.2025 16:15:00 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=187 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 16:15:00:949  SEND: 05.11.2025 16:15:00 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=36 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 16:15:00:949  Com6 PP#3 Зона #5 Состояние >> Потерян контакт с устройством (250) ШС отключен (Потеря связи) (187) Нарушение технологического ШС (36)
2025.11.05 16:15:00:949  SEND: 05.11.2025 16:15:00 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=65535 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 16:15:00:949  SEND: 05.11.2025 16:15:00 Code=13604 Sys=0 Type=24 Net=1 Big=2 Small=5 Mode=0 Part=0 Lev=250 Us=0 Num=0 Card=0 Mon=0 Cam=0 Prog=45 NumDev=5
2025.11.05 16:15:00:964    $00000001001C6A27 line 127 of commpp.pas
2025.11.05 16:15:00:974    $0000000100050D8D
2025.11.05 16:15:00:974    $0000000100002F06 line 41 of DrvC2000pp.lpr
2025.11.05 16:15:00:984    $0000000100012C87
2025.11.05 16:15:00:984    $000000007718652D
2025.11.05 16:15:00:984    $00000000772BC521
2025.11.05 16:15:00:984  Com9 закрытие...

1+
2025.09.10 17:54:03:853  EInvalidPointer: Invalid pointer operation
2025.09.10 17:54:03:853  Trace:
  $0000000100011CC3
2025.09.10 17:54:03:853    $0000000100044891 line 1620 of mMain.pas
2025.09.10 17:54:03:868    $000000010004361D line 1190 of mMain.pas
2025.09.10 17:54:03:915    $00000001001C6A07 line 127 of commpp.pas
2025.09.10 17:54:03:915    $0000000100050D6D
2025.09.10 17:54:03:931    $0000000100002F06 line 41 of DrvC2000pp.lpr
2025.09.10 17:54:03:931    $0000000100012C87
2025.09.10 17:54:03:931    $000000007718652D
2025.09.10 17:54:03:931    $00000000772BC521
2025.09.10 17:54:03:931  Com9 закрытие...
2025.09.10 17:54:04:352  Com9 закрыт
2025.09.10 17:54:25:240  Старт модуля (вер. 3.1.5.157)